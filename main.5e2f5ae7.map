{"version":3,"sources":["../node_modules/classnames/index.js","js/instagram-fetcher.js","js/main.js"],"names":["HASHTAG","SLIDESHOW_SPEED","document","getElementById","innerHTML","imageElements","currentImage","slideshowInterval","fetchImages","window","fetch","then","res","json","loadImages","imageList","img","imgElm","createElement","src","className","push","updateSlideshow","images","console","log","slideshow","i","length","appendChild","startSlideshow","update","shown","clearInterval","setInterval"],"mappings":";;AAoDA,IAAA,GA7CA,WACA,aAEA,IAAA,EAAA,GAAA,eAEA,SAAA,IAGA,IAFA,IAAA,EAAA,GAEA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CACA,IAAA,EAAA,UAAA,GACA,GAAA,EAAA,CAEA,IAAA,SAAA,EAEA,GAAA,WAAA,GAAA,WAAA,EACA,EAAA,KAAA,QACA,GAAA,MAAA,QAAA,IAAA,EAAA,OAAA,CACA,IAAA,EAAA,EAAA,MAAA,KAAA,GACA,GACA,EAAA,KAAA,QAEA,GAAA,WAAA,EACA,IAAA,IAAA,KAAA,EACA,EAAA,KAAA,EAAA,IAAA,EAAA,IACA,EAAA,KAAA,IAMA,OAAA,EAAA,KAAA,KAGA,oBAAA,QAAA,OAAA,SACA,EAAA,QAAA,EACA,OAAA,QAAA,GACA,mBAAA,GAAA,iBAAA,EAAA,KAAA,EAAA,IAEA,EAAA,aAAA,GAAA,WACA,OAAA,IAGA,OAAA,WAAA,EA1CA;;ACuFC,aAzFD,IAAA,EAAA,EAAA,QAAA,eAyFC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvFD,IAAMA,EAAU,YACVC,EAAkB,IAExBC,SAASC,eAAe,WAAWC,UAAY,IAAMJ,EAErD,IAAIK,EAAgB,GAChBC,EAAe,EACfC,EAAoB,KAExB,SAASC,IACAC,OAAAA,OACJC,MAA8DV,wDAAAA,OAAAA,IAC9DW,KAAK,SAAAC,GAAOA,OAAAA,EAAIC,SAGrB,SAASC,EAAWD,GACdE,IAAAA,EAAY,GADQ,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAGRF,IAAAA,IAAM,EAANA,EAAAA,EAAM,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,MAAA,GAAA,EAAA,CAAbG,IAAAA,EAAa,EAAA,MAChBA,GAAQ,OAARA,EAAAA,CAEEC,IAAAA,EAASf,SAASgB,cAAc,OACtCD,EAAOE,IAAMH,EACbC,EAAOG,WAAY,EAAW,EAAA,SAAA,SAE9BL,EAAUM,KAAKJ,KAVO,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAajBF,OAAAA,EAGT,SAASO,EAAgBC,GACvBC,QAAQC,IAAI,0CAA2CF,GAEjDG,IAAAA,EAAYxB,SAASC,eAAe,UAC1CuB,EAAUtB,UAAY,GAEjB,IAAA,IAAIuB,EAAI,EAAGA,EAAIJ,EAAOK,OAAQD,IAAK,CAClCX,IAAAA,EAAMO,EAAOI,GACL,OAARX,IAEJA,EAAII,UAAY,QAEhBM,EAAUG,YAAYb,KAI1B,SAASc,IAGEC,SAAAA,IACHzB,GAAAA,GAAgBD,EAAcuB,OAAS,EACzCtB,EAAe,EACfE,IAAcG,KAAK,SAAAE,GAEjBS,EADAjB,EAAgBS,EAAWD,IAGtB,IAAA,IAAIc,EAAI,EAAGA,EAAItB,EAAcuB,OAAQD,IACxCtB,EAAcsB,GAAGP,WAAY,EAAW,EAAA,SAAA,QAAS,CAC/CY,MAAOL,IAAMrB,UAId,CACLA,IAEK,IAAA,IAAIqB,EAAI,EAAGA,EAAItB,EAAcuB,OAAQD,IACxCtB,EAAcsB,GAAGP,WAAY,EAAW,EAAA,SAAA,QAAS,CAC/CY,MAAOL,IAAMrB,KApBrBkB,QAAQC,IAAI,sBA0BZhB,OAAOwB,cAAc1B,GACrBA,EAAoBE,OAAOyB,YAAYH,EAAQ9B,GAC/C8B,IAKE7B,SAASC,eAAe,WAC1BK,IAAcG,KAAK,SAAAE,GAEjBS,EADAjB,EAAgBS,EAAWD,IAE3BiB;;AC1FJ,aAFA,QAAA,uBAEAN,QAAQC,IAAI","file":"main.5e2f5ae7.map","sourceRoot":"../src","sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * This file uses a script I (Viktor Strate) have written,\n * to get the latest images for a specified hashtag from Instagram\n */\n\nimport classnames from 'classnames'\n\nconst HASHTAG = 'sitcomp17'\nconst SLIDESHOW_SPEED = 10 * 1000\n\ndocument.getElementById('hashtag').innerHTML = '#' + HASHTAG\n\nlet imageElements = []\nlet currentImage = 0\nlet slideshowInterval = null\n\nfunction fetchImages() {\n  return window\n    .fetch(`https://qpqp.dk/instagram_hashtag_images.php?hashtag=${HASHTAG}`)\n    .then(res => res.json())\n}\n\nfunction loadImages(json) {\n  let imageList = []\n\n  for (let img of json) {\n    if (img === null) continue\n\n    const imgElm = document.createElement('img')\n    imgElm.src = img\n    imgElm.className = classnames('image')\n\n    imageList.push(imgElm)\n  }\n\n  return imageList\n}\n\nfunction updateSlideshow(images) {\n  console.log('Loading instagram images into slideshow', images)\n\n  const slideshow = document.getElementById('images')\n  slideshow.innerHTML = ''\n\n  for (let i = 0; i < images.length; i++) {\n    let img = images[i]\n    if (img === null) continue\n\n    img.className = 'image'\n\n    slideshow.appendChild(img)\n  }\n}\n\nfunction startSlideshow() {\n  console.log('Starting slideshow')\n\n  function update() {\n    if (currentImage >= imageElements.length - 1) {\n      currentImage = 0\n      fetchImages().then(json => {\n        imageElements = loadImages(json)\n        updateSlideshow(imageElements)\n\n        for (let i = 0; i < imageElements.length; i++) {\n          imageElements[i].className = classnames('image', {\n            shown: i === currentImage,\n          })\n        }\n      })\n    } else {\n      currentImage++\n\n      for (let i = 0; i < imageElements.length; i++) {\n        imageElements[i].className = classnames('image', {\n          shown: i === currentImage,\n        })\n      }\n    }\n  }\n\n  window.clearInterval(slideshowInterval)\n  slideshowInterval = window.setInterval(update, SLIDESHOW_SPEED)\n  update()\n}\n\n// Start everything\n\nif (document.getElementById('images')) {\n  fetchImages().then(json => {\n    imageElements = loadImages(json)\n    updateSlideshow(imageElements)\n    startSlideshow()\n  })\n}\n","import './instagram-fetcher'\n\nconsole.log('Scripts loaded')\n"]}